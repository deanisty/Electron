#### 如何实现减法

首先观察十进制的减法：253 - 176 = ?

```C
  2 5 3 
 -1 7 6
 ------
    7 7
```
和加法的进位相反，这里产生了借位操作。
不过减法可以转换成这样处理 ： 253 - 176 = 253 - 176 + 1000 - 1000 = 253 + (999 - 176) + 1 - 1000.

```C
  9 9 9
- 1 7 6
-------
  8 2 3
  
253 + 823 + 1 - 1000 = 77
```

现在把减数和被减数交换：176 - 253 = 176 - 253 + 1000 - 1000 = 176 + (999 - 253) + 1 - 1000.
同样先用 999 减去 253 得 746，加上 176 得 922 ,然后 +1 减 1000，

```C
    9 2 3
- 1 0 0 0 
-----------
    ? ? ?
```

显然这里还是要用到借位操作，解决方法就是不再减 1000 而是直接减 999，并且把减数和被减数调换，得到的值再取反，也就得到了 -77.
这种用 999 减去某个数的操作就叫做求对 9 的补数或者补码，999减去176就消除了借位，因为它的每一位都是9。如果是4位数字，求补码就要用 9999 减去它，
以此类推。同样的方法可用于二进制数减法，而且会比十进制数减法来得简单。让我们看看该如何做。

题目变成：

```C

  １１１１１１０１
－１０１１００００
-------------------
  ？？？？？？？？

```

当计算十进制数减法时，减数是从一串9中减去，得到称为9的补数的结果。对于二进制数减法，减数从一串1中减去，差称为1的补数。
但请注意，求1的补数实际上并不需要做减法，因为1的补数中，原来的0变成1，原来的1变成0，所以，1的补数有时也称为相反数或反码.
所以补码是： 01001111，加法转换成被减数和补码相加：

```C
  1 1 1 1 1 1 0 1
+ 0 1 0 0 1 1 1 1
-----------------
1 0 1 0 0 1 1 0 0
```

结果加1 ：

```C
1 0 1 0 0 1 1 0 0
+ 1
--------------------
1 0 1 0 0 1 1 0 1
```

减去 100000000(256):

```C
   1 0 1 0 0 1 1 0 1
－ 1 0 0 0 0 0 0 0 0
---------------------
       1 0 0 1 1 0 1
```

结果就是十进制数 77。
现在把两数颠倒位置后再做一遍。在十进制中，减法题目对应于：

```C
  1 7 6
－2 5 3
--------
  ? ? ?
```

而在二进制中，即是：

```C
   1 0 1 1 0 0 0 0
－ 1 1 1 1 1 1 0 1
--------------------
   ? ? ? ? ? ? ? ?
```

步骤1 从11111111中减去减数。得到补数：

```C
   1 1 1 1 1 1 1 1
－ 1 1 1 1 1 1 0 1
-------------------
   0 0 0 0 0 0 1 0
```

步骤2 把步骤1中的补数和被减数相加：

```C
  1 0 1 1 0 0 0 0
+ 0 0 0 0 0 0 1 0
------------------
  1 0 1 1 0 0 1 0
```

现在， 11111111 必须再从结果中减掉。当减数比被减数小时，可以通过先加1再减去100000000 来达到此目的。
但现在这样做却会用到借位。所以，我们先用11111111减去步骤2中的结果：

```C
  1 1 1 1 1 1 1 1
－1 0 1 1 0 0 1 0
------------------
  0 1 0 0 1 1 0 1
```

这实际上是对步骤2中得到的结果取反。最后的结果是 77，而真正的答案应该是 －77，这和10进制的结果一样。但是唯一的问题是没有办法用二进制表示负数。

#### 二进制表示的负数

在十进制中，假设我们有一个银行账户，账户中的金额不会超过500，而且可以是负值，但是最小也不会超过 -500，那么我们可能会采用这种方式来表示：

```C
－500 －499 －498 ⋯ －4 －3 －2 －1 0 1 2 3 4 ⋯ 497 498 499
```
不过这里除了数字之外还包括了一个符号 - ，但是假设我们只能使用数字不能使用别的符号来表示正数和负数，那么也可以采用这种方式：

```C
500 501 502 ⋯ 996 997 998 999 000 001 002 003 004 ⋯ 497 498 499
```

这时，从0开始往右边的数都表示正数，而0左边的数都表示负数，那么这个表示方法可以看做一个环，最小的负数（500）可以看做是最大的整数
（499）的延续，数字 999 是比零小的第一个负数。如果给 999 加上1，通常得到 1000。 但由于只处理3位数，所以实际上是 000。
这种处理称为 10 的补数。要把3位负数转换成1 0的补数，需从9 9 9中减去它再加1。换句话说，1 0的补数是9的补数再加1。
例如，要把 －255 写成 10 的补数，应先从 999 中减去 255 得到 744，再加上1后得到 745。也就是 B的补数 = （999 - B）+ 1.
回顾前面计算减法用到的算术：A - B = A - B + 10000 - 10000 = A + (999 -B) + 1 - 10000 = A + B的补数 - 10000，在规定数字只有三位的情况下，减去
10000 就是省去最高位的1，所以对于上面表示负数的方式， A-B既是 A+B的补数。
比如求： 325 - 23 = 325 + 23的补数 = 325 + （999 - 23 + 1）= 325 + 977 = 1302 = 302(舍去最高位的1)。
因此通过使用 10 的补数，就不用去做减法了，全部都可以用加法来计算。

上面的表示方法同样适用二进制。

二进制中对应的系统称为2的补数。假设我们用8位二进制数工作，范围从0 0 0 0 0 0 0 0～
11111111，对应于十进制的0～2 5 5。这时如果你想要表达负数，则以1开头的每个8位数都表
示一个负数，如下所示：

```C
二进制数               十进制数
1 0 0 0 0 0 0 0       －1 2 8
1 0 0 0 0 0 0 1       －1 2 7
1 0 0 0 0 0 1 0       －1 2 6
1 0 0 0 0 0 11        －1 2 5
               .
               .
               .
11111101              －3
11111110              －2
11111111              －1
0 0 0 0 0 0 0 0         0
0 0 0 0 0 0 0 1         1
1 0 0 0 0 0 1 0         2 
               .
               .
               .
01111100              124
01111101              125
01111110              126
01111111              127
```

如此一来，二进制有符号的数字最高位为符号位，1表示负数，0表示正数。减法也简化为加法运算。

要计算2的补数得先求出1的补数再加上1，这等同于先求反再加1。例如，十进制数1 2 5是
0 11111 0 1，要用2的补数来表示－1 2 5，可先取反得1 0 0 0 0 0 1 0，再加1就得到1 0 0 0 0 0 11。可用上
表来验证这个结果。要回到原来的数只需同样的操作：取反后加1。

如果两个相加的数字符号相同，结果不会超出范围，但是两个符号不同的数字相加时可能会超过规定的范围。
一般而言，若两个操作数的符号相同，而结果的符号与操作数的符号不相同时，这样的
加法是无效的（即加法运算产生了溢出！）

现在，二进制数可以有两种不同的使用方法。二进制数可以是无符号的或有符号的，无
符号的二进制8位数的表示范围从0～2 5 5，有符号的二进制8位数的表示范围从－ 1 2 8～1 2 7。
这些数本身不会告诉你它们是否带有符号。例如，假设有人问：“1 0 11 0 11 0对应于十进制数的
几？”这时，你必须先问清楚它是无符号数还是有符号数？它可能是1 8 2或－7 4。

这就是二进制数的麻烦：它们仅仅是一些0和1而没有告诉它们的任何含义。
